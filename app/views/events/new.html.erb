<h1><%= t('新增班表') %></h1>

<%= form_with(model: @event , url:work_shift_events_path(@work_shift.id),  method: 'post', data: { controller: "on-duties" }) do |form| %>
    <% if @event.errors.any? %>
      <div id="error_explanation">
        <ul>
          <% @event.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
  
    <div class="field">
      <%= form.label :shifted_mode, "模式" %>
      <%= form.select :shifted_mode , Event.all_mode %>
      <%= form.label :all_day, "全日" %>
      <%= form.check_box :all_day %>
    </div>
  
    <div class="field">
      <%= form.label :start_at, "開始時間" %>
      <%= form.datetime_field :start_at %>
    </div>
  
    <div class="field">
      <%= form.label :end_at, "結束時間" %>
      <%= form.datetime_field :end_at %>
    </div>
  
    <div class="field">
      <%= form.label :title, "標題" %>
      <%= form.text_field :title %>
    </div>

    <div class="field">
      <%= form.label :content, "內容" %>
      <%= form.text_field :content %>
    </div>

    <div class="field">
      <%= form.label "值班人員" %>
      <select id="staff_list">
        <% @on_duty_staff.each do |staff| %>
          <option value=<%= staff %>><%= staff %></option>
        <%end %>
      </select>
      <div id="shifted_list">
      </div>
    </div>

    <div class="kind">
      <%= form.label :vacation_set, "休假設定" %>
      <%= form.select :vacation_set , Event.all_vacation_set %>
    </div>

    <div class="field">
      <%= form.hidden_field :on_duty_staff %>
    </div>
  
    <div class="btn actions">
      <%= form.submit "儲存" %>
    </div>
  <% end %>

<%= link_to '返回', setting_work_shift_path(@work_shift.id) %>
