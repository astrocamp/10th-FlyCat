<%= content_tag :div, data: { controller: 'calendar' } do %>
    <%= content_tag :div, class: 'modal bg-white', data: { target: 'calendar.modal' } do %>
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <%= form_with(model: Event.new , url:work_shift_events_path(@work_shift.id),  method: 'post', local: true) do |form| %>
            <div class="modal-body">
              <div class="field">
                <%= form.label :shifted_mode, "模式" %>
                <%= form.select :shifted_mode , Event.all_mode %>
                <%= form.label :all_day, "全日" %>
                <%= form.check_box :all_day %>
              </div>

              <div class="field", data: { target: 'calendar.start_at' }>
                <%= form.label :start_at, "開始時間" %>
                <%= form.datetime_field :start_at %>
              </div>
  
              <div class="field", data: { target: 'calendar.end_at' }>
                <%= form.label :end_at, "結束時間" %>
                <%= form.datetime_field :end_at%>
              </div>
  
              <div class="field">
                <%= form.label :title, "標題" %>
                <%= form.text_field :title %>
              </div>

                <div class="field">
                  <%= form.label :content, "內容" %>
                  <%= form.text_field :content %>
                </div>
                
              <div class="field">
                <%= form.label "值班人員" %>
                <select id="staff_list">
                  <% @on_duty_staff.each do |staff| %>
                    <option value=<%= staff %>><%= staff %></option>
                  <%end %>
                </select>
                <div id="shifted_list">
                </div>
              </div>

              <div class="field">
                <%= form.label :vacation_set, "休假設定" %>
                <%= form.select :vacation_set , Event.all_vacation_set %>
              </div>

              <div class="field">
                <%= form.hidden_field :on_duty_staff %>
              </div>
            </div>
            <div class="modal-footer">
              <%= form.submit t("新增班表"), class: 'btn btn-primary' %>
            </div>
          <% end %>
        </div>
      <% end %>
      <div data-target="calendar.calendar" class="mx-auto w-5/6 pb-5"></div>
  <% end %>
  <%= link_to '返回工作表', setting_work_shift_path %>
